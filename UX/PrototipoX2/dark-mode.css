/* --- DARK MODE CORREGIDO Y ELEGANTE --- */

/* Paleta de colores:
   - Fondo Principal: #001f3f (Azul naval oscuro)
   - Fondo de Superficies: #003366 (Azul más oscuro)
   - Bordes/Divisores: #004080 (Borde azul más oscuro)
   - Texto Principal: #ffffff (Blanco)
   - Texto Secundario: #b3cce6 (Azul claro)
   - Acento Principal (Azul): #4F83CC (Azul vibrante)
*/

body.dark-mode {
    background: #001f3f;
}

body.dark-mode .app-screen,
body.dark-mode .profile-form-screen,
body.dark-mode .register-screen,
body.dark-mode .app-content,
body.dark-mode .form-content,
body.dark-mode .register-form {
    background: #001f3f; 
    color: #ffffff;
}

body.dark-mode .status-bar { 
    color: #ffffff; 
}

/* Superficies como cabeceras, tarjetas y modales */
body.dark-mode .app-header,
body.dark-mode .form-header,
body.dark-mode .webview-header,
body.dark-mode .card,
body.dark-mode .section-item,
body.dark-mode .alert-item,
body.dark-mode .news-card,
body.dark-mode .faq-item,
body.dark-mode .stat-card,
body.dark-mode .action-btn,
body.dark-mode .modal,
body.dark-mode .checklist-panel,
body.dark-mode .history-item,
body.dark-mode .document-item,
body.dark-mode .company-card {
    background: #003366;
    border-color: #004080;
}

/* Estilos de Hover para superficies */
body.dark-mode .card:hover,
body.dark-mode .section-item:hover,
body.dark-mode .alert-item:hover,
body.dark-mode .news-card:hover,
body.dark-mode .faq-item:hover,
body.dark-mode .action-btn:hover {
    border-color: #4F83CC; 
}

/* Textos Principales */
body.dark-mode .header-info h1, 
body.dark-mode h3,
body.dark-mode .form-title,
body.dark-mode .section-name,
body.dark-mode .alert-title,
body.dark-mode .news-title,
body.dark-mode .faq-question,
body.dark-mode .modal-title,
body.dark-mode .checklist-title,
body.dark-mode .action-label,
body.dark-mode .checkitem,
body.dark-mode .doc-name,
body.dark-mode .company-name { 
    color: #ffffff;
}

/* Textos Secundarios */
body.dark-mode .header-info p,
body.dark-mode .form-subtitle,
body.dark-mode .section-description,
body.dark-mode .alert-description,
body.dark-mode .alert-time,
body.dark-mode .news-excerpt,
body.dark-mode .news-meta,
body.dark-mode .faq-answer,
body.dark-mode .modal-content,
body.dark-mode .stat-label,
body.dark-mode .nav-item,
body.dark-mode .comment-content .text,
body.dark-mode .company-summary,
body.dark-mode .drop-zone { 
    color: #b3cce6; 
}

/* Barras de Progreso - CORREGIDO */
body.dark-mode .progress-bar { background: #004080; }
body.dark-mode .progress-fill { background: #4F83CC; }
body.dark-mode .progress-percentage { color: #4F83CC; }
/* Se eleva la importancia del título para que no se pierda */
body.dark-mode .progress-title { color: #ffffff; } 


/* Iconos de acción */
body.dark-mode .action-icon { background: #001f3f; color: #b3cce6; }
body.dark-mode .action-btn:hover .action-icon { background: #4F83CC; color: #FFFFFF; }

/* Navegación inferior */
body.dark-mode .bottom-nav {
    background: #003366;
    border-top-color: #004080;
}
body.dark-mode .nav-item.active { color: #ffffff; }
/* Filtro CSS ajustado para el color de ícono inactivo */
body.dark-mode .nav-icon img { 
    filter: invert(75%) sepia(1%) saturate(1596%) hue-rotate(200deg) brightness(88%) contrast(89%);
}
body.dark-mode .nav-item.active .nav-icon img { filter: none; }

/* Formularios e Inputs */
body.dark-mode .form-label { color: #b3cce6; }
body.dark-mode .form-input, 
body.dark-mode .form-select, 
body.dark-mode .search-input {
    background: #001f3f;
    border: 1px solid #004080;
    color: #ffffff;
}
body.dark-mode .form-input:focus, 
body.dark-mode .form-select:focus, 
body.dark-mode .search-input:focus {
    border-color: #4F83CC;
    background: #003366;
    box-shadow: 0 0 0 3px rgba(79, 131, 204, 0.3);
}
body.dark-mode .form-input::placeholder { color: #b3cce6; }

/* Botones */
body.dark-mode .btn-primary,
body.dark-mode .btn-upload { 
    background: #4F83CC;
    color: #FFFFFF;
    font-weight: 600;
    border: none;
}
body.dark-mode .btn-primary:hover { 
    background: #0055A4;
}

body.dark-mode .btn-secondary {
    background: transparent;
    color: #4F83CC;
    border-color: #004080;
}
body.dark-mode .btn-secondary:hover { 
    background: rgba(79, 131, 204, 0.1);
    border-color: #4F83CC;
}

/* Filtros y Modales */
body.dark-mode .filter-pill {
    background: #004080;
    color: #ffffff;
    border-color: transparent;
}
body.dark-mode .filter-pill:hover { background: #0059b3; }
body.dark-mode .filter-pill.active { 
    background: #4F83CC; 
    color: #FFFFFF; 
    font-weight: 600; 
}

body.dark-mode .modal-overlay { background: rgba(0, 31, 63, 0.8); backdrop-filter: blur(10px); }
body.dark-mode .modal-btn.cancel { background: #004080; color: #ffffff; }
body.dark-mode .modal-btn.confirm { 
    background: #4F83CC;
    color: #FFFFFF; 
    font-weight: 600; 
}

body.dark-mode .checklist-close { background: #004080; color: #ffffff; }

/* Web View Screens */
body.dark-mode .web-view-content {
    background: #001f3f;
}
body.dark-mode .webview-header {
    background: #003366;
    border-bottom-color: #004080;
}

/* Document Upload Dark Mode */
body.dark-mode .drop-zone {
    border-color: #004080;
}
body.dark-mode .drop-zone.dragover {
    background-color: #001f3f;
    border-color: #4F83CC;
}
body.dark-mode .upload-progress { background: #004080; }
body.dark-mode .upload-progress-bar { background: #4F83CC; }

/* Company Reviews Dark Mode */
body.dark-mode .view-comments-btn {
    background: #004080;
    border-color: #0055A4;
    color: #b3cce6;
}
body.dark-mode .company-comments {
    border-top-color: #004080;
}
body.dark-mode .comment-content .text {
    color: #b3cce6;
}