/* ===== EMERGENCY FIX - APLICAR DESPUÉS DE TODOS LOS OTROS CSS ===== */
/* Este archivo corrige TODOS los problemas críticos de renderizado */

/* 1. RESETEO CRÍTICO */
* {
    max-width: 100%;
}

/* 2. CONTENEDOR DEL IPHONE */
.screen {
    display: flex !important;
    flex-direction: column !important;
    position: relative !important;
    overflow: hidden !important;
}

/* 3. PANTALLAS */
.app-screen {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    display: none;
    flex-direction: column;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    overflow: hidden !important;
}

.app-screen.active {
    display: flex !important;
}

/* 4. HEADERS */
.app-header-modern {
    flex-shrink: 0 !important;
    width: 100% !important;
    z-index: 10 !important;
}

/* 5. CONTENIDO */
.app-content-modern {
    flex: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    padding-bottom: 100px !important;
    width: 100% !important;
}

/* 6. NAVEGACIÓN INFERIOR */
.bottom-nav-modern {
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 100 !important;
    background: white !important;
}

/* 7. IMÁGENES DE PERFIL SIN ARCHIVO */
.profile-pic-large span,
.profile-pic-xl span {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
    font-size: 32px !important;
    color: white !important;
    font-weight: 700 !important;
}

/* 8. MODALES */
.modal-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 5000 !important;
}

/* 9. LOGIN Y LOADING */
.loading-screen,
.login-screen {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
}

/* 10. PREVENIR OVERFLOW DE TEXTO */
.welcome-title,
.header-subtitle,
h1, h2, h3, h4, p {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
}

/* 11. TARJETAS */
.summary-card,
.quick-card,
.notification-card,
.company-card,
.support-card {
    max-width: 100% !important;
    word-wrap: break-word !important;
}

/* 12. Z-INDEX JERARQUÍA */
.status-bar { z-index: 999 !important; }
.dynamic-island { z-index: 1000 !important; }
.bottom-nav-modern { z-index: 100 !important; }
.modal-overlay { z-index: 5000 !important; }
.loading-screen { z-index: 3000 !important; }
.login-screen { z-index: 2500 !important; }

/* 13. VISIBILIDAD DE EMOJIS */
.nav-icon,
.quick-card-icon,
.notification-icon,
.support-icon {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI Emoji', 'Segoe UI Symbol', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif !important;
    line-height: 1 !important;
}

/* 14. MODO OSCURO COMPATIBLE */
body.dark-mode .bottom-nav-modern {
    background: #1E293B !important;
}

body.dark-mode .app-content-modern {
    background: #0F172A !important;
}